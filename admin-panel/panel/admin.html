<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Panel de Administración | Librería</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="css/admin.css" />
  <script src="https://upload-widget.cloudinary.com/global/all.js"></script>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><i class="fas fa-book"></i> Panel de Administración | Patria y Palabras</h1>
    </div>

    <div id="mensaje" class="alert"></div>

    <div class="panel">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-plus-circle"></i> Nuevo Libro</h2>
        </div>
        <form id="libro-form">
          <div class="form-group">
            <label for="titulo">Título</label>
            <input type="text" id="titulo" name="titulo" required>
          </div>

          <div class="form-group">
            <label for="autor">Autor</label>
            <input type="text" id="autor" name="autor" required>
          </div>

          <div class="form-group">
            <label for="estado">Estado</label>
            <select id="estado" name="estado" required>
              <option value="nuevo">Nuevo</option>
              <option value="bueno">Bueno</option>
              <option value="regular">Regular</option>
              <option value="malo">Malo</option>
            </select>
          </div>

          <div class="form-group">
            <label for="categoria">Categoría</label>
            <select id="categoria" name="categoria" required>
              <option value="arte">Arte</option>
              <option value="biografias">Biografias</option>
              <option value="ciencia-ficcion">Ciencia Ficción</option>
              <option value="cuentos">Cuentos</option>
              <option value="ensayos">Ensayos</option>
              <option value="infantil">Infantil</option>
              <option value="juvenil">Juvenil</option>
              <option value="primario">Libro de Estudio(Primario)</option>
              <option value="secundario">Libro de Estudio(Secundario)</option>
              <option value="universitario">Libro de Estudio(Universitario)</option>
              <option value="musica">Música</option>
              <option value="novela">Novela</option>
              <option value="poesia">Poesía</option>
              <option value="historia">Religión y Cultura(Historia)</option>
              <option value="cultura">Religión y Cultura(Cultura)</option>
              <option value="psicologia">Religión y Cultura(Psicología)</option>
              <option value="religion">Religión y Cultura(Religión)</option>
              <option value="teatro">Teatro</option>
            </select>
          </div>

          <div class="form-group">
            <label for="precio">Precio</label>
            <input type="number" id="precio" name="precio" step="0.01" required>
          </div>

          <div class="form-group">
            <label for="descripcion">Descripción</label>
            <textarea id="descripcion" name="descripcion"></textarea>
          </div>

          <div class="form-group">
            <label>Imagenes</label>
            <div class="upload-container">
              <button type="button" id="btn-subir-imagen" class="button-outline">
                <i class="fas fa-cloud-upload-alt"></i> Seleccionar Imagen
              </button>
              <span id="nombre-archivo" class="file-name"></span>
            </div>
            <div id="preview-container" class="preview-container"></div>
          </div>

          <div class="form-actions">
            <button type="reset" class="button-outline">
              <i class="fas fa-undo"></i> Limpiar
            </button>
            <button type="submit">
              <i class="fas fa-save"></i> Guardar Libro
            </button>
          </div>
        </form>
      </div>

      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-list"></i> Libros Disponibles</h2>
          <div class="filtros-container">
            <div class="search-bar">
              <input type="text" id="search-input" placeholder="Buscar por título o autor...">
              <i class="fas fa-search"></i>
            </div>
            <div class="filtros-group">
              <select id="filtro-categoria" class="filtro-select">
                <option value="">Todas las categorías</option>
                <option value="ciencia-ficcion">Ciencia Ficción</option>
                <option value="infantil">Infantil</option>
              </select>
              <select id="filtro-orden" class="filtro-select">
                <option value="reciente">Más reciente primero</option>
                <option value="antiguo">Más antiguo primero</option>
                <option value="precio-asc">Precio: menor a mayor</option>
                <option value="precio-desc">Precio: mayor a menor</option>
              </select>
            </div>
          </div>
        </div>

        <div id="lista-libros" class="libro-grid">
          <div class="loading">
            <i class="fas fa-spinner"></i> Cargando lista de libros...
          </div>
        </div>
      </div>
    </div>
  </div>

  <button id="logout-btn" class="button-danger" style="position: fixed; bottom: 20px; right: 20px;">
    <i class="fas fa-sign-out-alt"></i> Cerrar sesión
  </button>
  <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
  <script type="module" src="js/admin.js"></script>
</body>
</html>